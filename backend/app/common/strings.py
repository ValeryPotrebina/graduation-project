# backend/app/common/strings.py

# Ключевые слова для анализа запроса (на русском, как спрашивает пользователь)
KEYWORDS_TEACHER = [
    "кто ведет", "преподавател", "препод", "учитель", "лектор", "кто читает курс", 
    "фамилия преподавателя", "имя преподавателя", "кто ответственный за курс", "чей курс"
]
KEYWORDS_DESCRIPTION = [
    "о чем", "описание", "про курс", "расскажи о", "содержание курса", "что изучаем", 
    "темы курса", "программа курса", "детали курса", "подробнее о курсе", "структура курса",
    "чему научусь", "цель курса"
]
KEYWORDS_LABS = [
    "лабораторные", "лабы", "лабораторных", "какие л.р.", "лр", "лабораторные работы",
    "список лабораторных", "задания для лабораторных", "лабораторки", "покажи лабы"
]
KEYWORDS_LECTURES = [
    "лекции", "лекцию", "лекций", "материалы лекций", "лекц", "конспекты лекций",
    "презентации лекций", "слайды лекций", "покажи лекции", "теория по курсу"
]
KEYWORDS_SEMINARS = [
    "семинары", "семинаров", "материалы семинаров", "практик", "практические занятия",
    "практикумы", "задачи для семинаров", "семинарские занятия", "покажи семинары"
]
KEYWORDS_ALL_MATERIALS = [
    "материалы", "все материалы", "какие есть материалы", "учебные материалы", 
    "дополнительные материалы", "список всех материалов", "что почитать", "что посмотреть",
    "методички", "ресурсы по курсу"
]
KEYWORDS_HOURS = [
    "часов", "сколько часов", "количество часов", "объем курса", "трудоемкость", 
    "зачетные единицы", "кредиты", "длительность курса"
]

# Точные значения material_type из БД (на английском, как в БД)
MATERIAL_TYPE_DB_LABS = "labs"
MATERIAL_TYPE_DB_LECTURES = "lectures"
MATERIAL_TYPE_DB_SEMINARS = "seminars"
# Если появятся другие, добавить сюда, например:
# MATERIAL_TYPE_DB_PRACTICE = "practice" 
# MATERIAL_TYPE_DB_EXAMS = "exams"

# Русские названия типов материалов для вывода пользователю и для формирования имени по умолчанию
# Ключ - значение из БД, значение - кортеж (множественное число для заголовка, единственное для имени по умолчанию)
MATERIAL_TYPE_TRANSLATIONS_RUS = {
    MATERIAL_TYPE_DB_LABS: ("лабораторные работы", "Лабораторная работа"),
    MATERIAL_TYPE_DB_LECTURES: ("лекции", "Лекция"),
    MATERIAL_TYPE_DB_SEMINARS: ("семинары", "Семинар"),
    # MATERIAL_TYPE_DB_PRACTICE: ("практические занятия", "Практическое занятие"),
    # MATERIAL_TYPE_DB_EXAMS: ("экзаменационные материалы", "Экзаменационный материал"),
}


# Значения по умолчанию или для сравнения
DEFAULT_TEACHER_NAME_IF_ABSENT = "Имя преподавателя отсутствует"
DEFAULT_TEACHER_DISPLAY_NAME_IF_UNKNOWN = "не указан"

# Шаблоны для формирования контекста
CONTEXT_COURSE_INFO = "Информация по курсу: {course_name}."
CONTEXT_TEACHER_INFO = "Преподаватель: {teacher_info}."
CONTEXT_DESCRIPTION_INFO = "Описание: {description}."
CONTEXT_DESCRIPTION_NOT_FOUND = "Описание для этого курса отсутствует в базе данных."
CONTEXT_HOURS_INFO = "Общее количество часов: {hours}."
CONTEXT_HOURS_NOT_FOUND = "Информация о количестве часов для этого курса отсутствует в базе данных."

# Общие шаблоны для материалов
CONTEXT_MATERIALS_FOUND_HEADER = "По курсу '{course_name}' найдены следующие материалы типа '{material_type_rus_plural}' (всего {count}):"
CONTEXT_MATERIAL_DEFAULT_NAME = "{material_type_rus_singular} {material_number_or_index}" 
CONTEXT_MATERIAL_CONTENT_PREVIEW = " (Содержание: {content_preview}...)"
CONTEXT_MATERIALS_NOT_FOUND = "Материалы типа '{material_type_rus_plural}' по курсу '{course_name}' не найдены в базе данных."
CONTEXT_MATERIALS_LOAD_ERROR = "Не удалось загрузить информацию о материалах типа '{material_type_rus_plural}' для курса '{course_name}'."
CONTEXT_NO_SPECIFIC_MATERIALS_REQUESTED = "По курсу '{course_name}' доступны различные учебные материалы. Уточните, какой тип материалов вас интересует (например, лекции, лабораторные, семинары) или запросите все материалы."
CONTEXT_ALL_MATERIALS_INTRO = "По курсу '{course_name}' найдены следующие учебные материалы:"
CONTEXT_COURSE_ID_FOR_MATERIALS_NOT_FOUND = "Не удалось получить ID для курса '{course_name}' для поиска материалов."


# Общие сообщения
MSG_COURSE_NOT_IDENTIFIED = "Не удалось точно определить, о каком курсе идет речь в вашем вопросе. Пожалуйста, уточните название курса."
MSG_REQUEST_INFO_NOT_FOUND = "По вашему запросу '{question}' специфическая информация не найдена. Пожалуйста, уточните ваш вопрос или название курса."
MSG_GENERAL_ASSISTANCE_PROMPT = "Я могу предоставить информацию о курсах, учебных материалах (лекции, семинары, лабораторные), преподавателях и количестве часов. Пожалуйста, задайте ваш вопрос."

# Строки для OpenAI API
OPENAI_SYSTEM_PROMPT = (
    "Ты — полезный AI-ассистент учебного портала LearnFlow. "
    "Твоя задача - отвечать на вопросы студентов, основываясь на предоставленной информации в разделе 'Контекст'. "
    "Если в контексте нет ответа на вопрос, то отвечай, что посчитаешь нужным. "
    "Не придумывай ничего от себя и не используй свои общие знания, если в контексте нет ответа на вопрос или контекст пуст, "
    "вежливо сообщи, что у тебя нет такой информации или информация не найдена в базе знаний, или попроси уточнить вопрос. "
    "Отвечай четко и по существу вопроса, на русском языке."
)
OPENAI_USER_MESSAGE_TEMPLATE = (
    "Контекст:\n"
    "---\n"
    "{retrieved_context}\n"
    "---\n\n"
    "Вопрос пользователя: {question}\n\n"
    "Ответь на вопрос пользователя, используя только информацию из Контекста."
)
OPENAI_DEFAULT_ERROR_RESPONSE = "Не удалось получить ответ от AI."
OPENAI_RESPONSE_ANSWER_KEY = "answer"

# Роутер
OPENAI_ROUTER_TAG = "openai"

# HTTP Исключения
HTTP_DETAIL_QUESTION_EMPTY = "Вопрос не может быть пустым."
HTTP_DETAIL_INTERNAL_SERVER_ERROR_OPENAI = "Внутренняя ошибка сервера при обработке запроса к OpenAI: {error_message}" 